a=ts_decay_linear(trade_when(abs(ts_zscore(ts_delay(close,1)-open,20))>2.5,ts_delta(close,5)/ts_stddev(close,252),abs(trade_when(abs(ts_zscore(ts_delay(close,1)-open,20))>2.5,close,-1)-close)/trade_when(abs(ts_zscore(ts_delay(close,1)-open,20))>2.5,close,-1)>0.1),5);b=-rank(ts_delta(close,2))*(1-rank(ts_decay_linear(volume/sum(volume,30),10)));ts_stddev(close,20)>ts_stddev(close,90)?a:b